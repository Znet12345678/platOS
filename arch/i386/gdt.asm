[bits 16]
global gdt
global end
global code
gdt:
null:dq 0
code:dw 0xffff
dw 0
db 0
db 0b10011010
db 0b11001111
db 0
data:dw 0xffff
dw 0
db 0
db 0b10010010
db 0b11001111
db 0
stack:dw 0xffff
dw 0
db 0
db 0b10010010
db 0b11001111
db 0
esegment:dw 0xffff
dw 0
db 0
db 0b10010010
db 0b11001111
db 0
gsegment:dw 0xffff
dw 0
db 0
db 0b10010010
db 0b11001111
db 0
fsegment:dw 0xffff
dw 0
db 0
db 0b10010010
db 0b11001111
db 0
end:
global gdtdesc32
gdtdesc32: dw end-gdt-1
dd gdt
